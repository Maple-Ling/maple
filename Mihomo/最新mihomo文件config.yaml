# æœºåœºè®¢é˜…ï¼Œåç§°ä¸èƒ½é‡å¤
proxy-providers:
  è‡ªå·±ç”¨:
    type: http
    interval: 3600
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
    proxy: ğŸš… ç›´è¿
    url: "https://sublinkx.maple521.site/c/?token=679de2dec39061b030e24274c9d7ab42"
      
  æµé‡å…‰:
    type: http
    interval: 3600
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
    proxy: ğŸš… ç›´è¿
    url: "https://rgergergergerg6555.saojc.xyz/api/v1/client/subscribe?token=e9b01bcf4afa0d65a1ac1bd523ad53b4"
    
  ä¸‰ç“œäº‘:
    type: http
    interval: 3600
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
    proxy: ğŸš… ç›´è¿
    url: "https://sanguayun.jiumaojiu.net/s/ebd7afebbe19dc1e58c1d48dd2e6f890"

  Anthon:
    type: http
    interval: 3600
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
    proxy: ğŸš… ç›´è¿
    url: "https://www.anthoncloud.com/sub/fZ8503N4mKkub2or/clash"
    
  é™¢é•¿:
    type: http
    interval: 3600
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
    proxy: ğŸš… ç›´è¿
    url: "https://sub.vip.sd/JPa6vvFgygVtNP2sGJ2r/download/nlmjj?target=Clash"

 
# å…¨å±€é…ç½®
allow-lan: true # å…è®¸å±€åŸŸç½‘è¿æ¥
mode: rule # æ­¤é¡¹æ‹¥æœ‰é»˜è®¤å€¼ï¼Œé»˜è®¤ä¸ºè§„åˆ™æ¨¡å¼
log-level: error # æ—¥å¿—ç­‰çº§ silent/error/warning/info/debug
ipv6: true
find-process-mode: off # æ§åˆ¶æ˜¯å¦è®© Clash å»åŒ¹é…è¿›ç¨‹
profile: # ç­–ç•¥ç»„é€‰æ‹©å’Œfakeipç¼“å­˜
  store-selected: true
  # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©ï¼Œä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨
  store-fake-ip: true
  # å‚¨å­˜ fakeip æ˜ å°„è¡¨ï¼ŒåŸŸåå†æ¬¡å‘ç”Ÿè¿æ¥æ—¶ï¼Œä½¿ç”¨åŸæœ‰æ˜ å°„åœ°å€
unified-delay: true # å¼€å¯ç»Ÿä¸€å»¶è¿Ÿæ—¶ï¼Œä¼šè®¡ç®— RTTï¼Œä»¥æ¶ˆé™¤è¿æ¥æ¡æ‰‹ç­‰å¸¦æ¥çš„ä¸åŒç±»å‹èŠ‚ç‚¹çš„å»¶è¿Ÿå·®å¼‚
tcp-concurrent: true # TCPå¹¶å‘
global-client-fingerprint: chrome # å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹

# ç«¯å£
tproxy-port: 7893 # Transparent proxy server port for Linux (TProxy TCP and TProxy UDP)
port: 7890 # HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
socks-port: 7891 # SOCKS5 ä»£ç†ç«¯å£
mixed-port: 10801 # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£
redir-port: 7892 # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS
global-ua: clash.meta # è‡ªå®šä¹‰å¤–éƒ¨èµ„æºä¸‹è½½æ—¶ä½¿ç”¨çš„çš„ UAï¼Œé»˜è®¤ä¸º clash.meta
etag-support: true # å¤–éƒ¨èµ„æºä¸‹è½½çš„ ETag æ”¯æŒï¼Œé»˜è®¤ä¸º true
geodata-mode: false # å¯é€‰ true/false,trueä¸º dat,falseä¸ºmmdb
geodata-loader: memconservative # standardï¼šæ ‡å‡†åŠ è½½å™¨,memconservativeï¼šä¸“ä¸ºå†…å­˜å—é™ (å°å†…å­˜) è®¾å¤‡ä¼˜åŒ–çš„åŠ è½½å™¨ (é»˜è®¤å€¼)
geo-auto-update: false # è‡ªåŠ¨æ›´æ–° GEO
geo-update-interval: 24 # æ›´æ–°é—´éš”ï¼Œå•ä½ä¸ºå°æ—¶
geox-url:
  geoip: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.metadb"
# æ§åˆ¶é¢æ¿
external-controller: 0.0.0.0:9090
secret: "971212"
external-ui-name: MetaCubeXD
external-ui: ui
external-ui-url: "https://github.maple521.site/https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"
#external-ui-url: "https://github.com/MetaCubeX/Yacd-meta/archive/refs/heads/gh-pages.zip"

# æµé‡å—…æ¢
sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    - "Mijia Cloud"
    - "+.push.apple.com"
  
# DNSæ¨¡å—
dns:
  enable: true
  ipv6: true # æ˜¯å¦è§£æ IPV6, å¦‚ä¸º false, åˆ™å›åº” AAAA çš„ç©ºè§£æ
  respect-rules: true # dns è¿æ¥éµå®ˆè·¯ç”±è§„åˆ™ï¼Œéœ€é…ç½® proxy-server-nameserver
  enhanced-mode: fake-ip # å¯é€‰å€¼ fake-ip/redir-hostï¼Œé»˜è®¤redir-host
  fake-ip-filter: # fakeip è¿‡æ»¤ï¼Œä»¥ä¸‹åœ°å€ä¸ä¼šä¸‹å‘ fakeip æ˜ å°„ç”¨äºè¿æ¥
    - "+.lan"
    - "+.local"
    - "+.market.xiaomi.com"
  nameserver: # é»˜è®¤çš„åŸŸåè§£ææœåŠ¡å™¨
    - https://120.53.53.53/dns-query
    - https://223.5.5.5/dns-query
  proxy-server-nameserver: # ä»£ç†èŠ‚ç‚¹åŸŸåè§£ææœåŠ¡å™¨ï¼Œä»…ç”¨äºè§£æä»£ç†èŠ‚ç‚¹çš„åŸŸåï¼Œå¦‚æœä¸å¡«åˆ™éµå¾ªnameserver-policyã€nameserverå’Œfallbackçš„é…ç½®
    - https://120.53.53.53/dns-query
    - https://223.5.5.5/dns-query
  nameserver-policy: # æŒ‡å®šåŸŸåæŸ¥è¯¢çš„è§£ææœåŠ¡å™¨ï¼Œå¯ä½¿ç”¨ geosite, ä¼˜å…ˆäº nameserver/fallback æŸ¥è¯¢
    "rule-set:cn_domain,private_domain,rule-direct_domain":
      - https://120.53.53.53/dns-query
      - https://223.5.5.5/dns-query
    "rule-set:geolocation-!cn,rule-proxy_domain":
      - "https://dns.cloudflare.com/dns-query"
      - "https://dns.google/dns-query"
      
# Tuné…ç½®
tun:
  enable: true
  stack: system # gvisor/mixed
  dns-hijack:
    - "any:53"
    - "tcp://any:53"
  auto-route: true # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±ï¼Œå¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥ tun ç½‘å¡
  auto-redirect: true # ä»…æ”¯æŒ Linuxï¼Œè‡ªåŠ¨é…ç½® iptables/nftables ä»¥é‡å®šå‘ TCP è¿æ¥ï¼Œéœ€è¦auto-routeå·²å¯ç”¨
  auto-detect-interface: true # è‡ªåŠ¨é€‰æ‹©æµé‡å‡ºå£æ¥å£ï¼Œå¤šå‡ºå£ç½‘å¡åŒæ—¶è¿æ¥çš„è®¾å¤‡å»ºè®®æ‰‹åŠ¨æŒ‡å®šå‡ºå£ç½‘å¡

proxies:
- name: "ğŸš… ç›´è¿"
  type: direct
  udp: true
 
# é”šç‚¹
pr: &pr {type: select, proxies: [ğŸ›¸ ä»£ç†, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯æµåª’ä½“, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹, ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, ğŸš… ç›´è¿]}
# ç­–ç•¥ç»„
proxy-groups:
  - {name: ğŸ›¸ ä»£ç†, type: select, proxies: [ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯æµåª’ä½“, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹, ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, ğŸš… ç›´è¿]}
  - {name: ğŸ‘€ Google,!!merge <<: *pr}
  - {name: ğŸ¤– ChatGPT,!!merge <<: *pr}
  - {name: ğŸµ TikTok,!!merge <<: *pr}
  - {name: ğŸ“² Telegram,!!merge <<: *pr}
  - {name: ğŸ¥ Netflix,!!merge <<: *pr}
  - {name: ğŸ¥ Disney,!!merge <<: *pr}
  - {name: ğŸš§ å…œåº•,!!merge <<: *pr}
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)æ¸¯|hk|hongkong|hong kong"}
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯æµåª’ä½“, type: select, include-all: true, filter: "(?i)æ¸¯|hk|hongkong|hong kong"}
  - {name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)éŸ©|kr|korea"}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)æ—¥|jp|japan"}
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)ç¾|us|unitedstates|united states"}
  - {name: ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)å¾·|de|Deutschland"}
  - {name: ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)è·|nl|Nederland"}
  - {name: ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, type: select, include-all: true}

rules:
  - RULE-SET,private_ip,ğŸš… ç›´è¿,no-resolve
  - RULE-SET,rule-direct_domain,ğŸš… ç›´è¿
  - RULE-SET,cn_domain,ğŸš… ç›´è¿
  - RULE-SET,tiktok_domain,ğŸµ TikTok
  - RULE-SET,netflix_domain,ğŸ¥ Netflix
  - RULE-SET,disney_domain,ğŸ¥ Disney
  - RULE-SET,telegram_domain,ğŸ“² Telegram
  - RULE-SET,openai,ğŸ¤– ChatGPT
  - RULE-SET,rule-proxy_domain,ğŸ›¸ ä»£ç†
  - RULE-SET,google_domain,ğŸ‘€ Google

  - RULE-SET,google_ip,ğŸ‘€ Google
  - RULE-SET,netflix_ip,ğŸ¥ Netflix,no-resolve
  - RULE-SET,telegram_ip,ğŸ“² Telegram,no-resolve
  - RULE-SET,cn_ip,ğŸš… ç›´è¿
  - RULE-SET,geolocation-!cn,ğŸ›¸ ä»£ç†
  - MATCH,ğŸš§ å…œåº•


rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
  list: &list {type: http, interval: 86400, behavior: domain, format: text}
  class: &class {type: http, interval: 86400, behavior: classical, format: text}
rule-providers:
  rule-direct_domain: {!!merge <<: *list, url: "https://github.maple521.site/https://raw.githubusercontent.com/Maple-Ling/maple/refs/heads/main/Mihomo/rule-direct.list"}
  rule-proxy_domain: {!!merge <<: *list, url: "https://github.maple521.site/https://raw.githubusercontent.com/Maple-Ling/maple/refs/heads/main/Mihomo/rule-proxy.list"}
  openai: {!!merge <<: *domain, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/openai.mrs"}
  private_domain: {!!merge <<: *domain, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs"}
  geolocation-!cn: {!!merge <<: *domain, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs"}
  google_domain: {!!merge <<: *domain, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"}
  telegram_domain: {!!merge <<: *domain, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs"}
  netflix_domain: {!!merge <<: *domain, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs"}
  disney_domain: {!!merge <<: *domain, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/disney.mrs"}
  tiktok_domain: {!!merge <<: *domain, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs"}
  cn_domain: {!!merge <<: *domain, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs"}
  
  cn_ip: {!!merge <<: *ip, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs"}
  private_ip: {!!merge <<: *ip, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs"}
  google_ip: {!!merge <<: *ip, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs"}
  telegram_ip: {!!merge <<: *ip, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs"}
  netflix_ip: {!!merge <<: *ip, url: "https://github.maple521.site/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs"}